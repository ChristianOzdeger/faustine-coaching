{% extends 'base.html.twig' %}

{% block title %}{{ recette.titre }}{% endblock %}

{% block body %}
{% set dossierImages =  asset('uploads/photos/recettes/') %}

<!-- Fil d'ariane -->
<div class="fil_ariane">
	<div class="fil-container">
		<h2>{{ recette.titre }}</h2>
		<p class="text-center">
			<a href="{{ path('accueil') }}">Accueil</a>&nbsp;
			<i class="fa fa-long-arrow-right"></i>&nbsp;
			<a href="{{path('recette_list')}}">Les Recettes</a>&nbsp;
			<i class="fa fa-long-arrow-right"></i>&nbsp;
			<span>{{ recette.titre }}</span>
		</p>
	</div>
</div>
<!-- Fil d'ariane -->

<div class="blg-dtl-cnt">
	<div class="row">
		<div class="col-12 col-lg-8 text-center">
			<div class="art-dtl">
				<h2>{{ recette.titre }}</h2>
				<img class="img-fluid img-thumbnail my-4 w-75" src="{{ dossierImages }}{{ recette.photoName }}">
				<div class="row justify-content-center">
					<div class="col-12 col-md-6">
						<p><i class="art-ind">{{ recette.createdAt|date('d M Y') }}</i></p>
						<ul class="pl-0">
							<li>Nombre de personne : {{ recette.nombrePersonne }}</li>
							<li>Temps de préparation : {{ recette.tempsPreparation }} min</li>
							<li>Temps de Cuisson : {{ recette.tempsCuisson }} min</li>
						</ul>
						<h6>Ingrédients :</h6>
						<ul class="pl-0">
							{% for ingredient in recette.compositions %}
								<li>
									<i class="fa fa-check" aria-hidden="true"></i>&nbsp;&nbsp; {{ ingredient.quantite }}
									{{ ingredient.unite.libelle }}
									{% if ingredient.unite.libelle != ' ' %} de {% endif %}
									{{ingredient.ingredient.libelle }}
								</li>
							{% endfor %}
						</ul>
					</div>
				</div>
				<p>
					{{ recette.description|raw }}
				</p>
			</div>
			<div class="col-12 text-center">
				<a href="{{ path('recette_list') }}">
					<h3 class="d-inline"><span class="btn btn-primary text-white mr-3">Retour</span></h3>
				</a>
			</div>
		</div>
		<div class="col-12 col-lg-4">
			<div class="art-cat">
				<h3>Categorie(s)</h3>
				{% for categorie in recette.categorie %}
				<span class="badge bg-primary text-white mr-2">{{ categorie.libelle }}</span>
				{% endfor %}
			</div>
			<div class="art-rct-pst">
				<h3>Les dernière recettes</h3>
				{% for derniereRecette in dernieresRecettes %}
				<div class="row">
					<div class="col-5">
						<a href="{{ path('recette_read', {slug:derniereRecette.slug})}}"><img class="img-fluid img-thumbnail" src="{{ dossierImages }}{{ derniereRecette.photoName }}"></a>
					</div>
					<div class="col-7">
						<h5><a href="{{ path('recette_read', {slug:derniereRecette.slug})}}">{{ derniereRecette.titre }}</a></h5>
						<p>{{ derniereRecette.createdAt|date('j F Y') }}</p>
					</div>
				</div>
				{% endfor %}
			</div>
			<div class="art-pop">
				<h3>Recettes </h3>
				<div class="art-slider">
					<div id="slidersControl" class="carousel" data-ride="carousel">
						<div class="carousel-inner">
							{% for key,recetteAleatoire in recettesAleatoires %}
							<div class="carousel-item {% if key == 0 %}active {% endif %}">
								<a href="{{ path('recette_read', {slug:recetteAleatoire.slug})}}"><img class="img-fluid img-thumbnail" src="{{ dossierImages }}{{ recetteAleatoire.photoName }}"></a>
								<div class="car-lgd">
									<p>{{ recetteAleatoire.createdAt|date('j F Y') }}</p>
									<h5><a href="{{ path('recette_read', {slug:recetteAleatoire.slug})}}">{{ recetteAleatoire.titre }}</a>
									</h5>
								</div>
							</div>
							{% endfor %}

						</div>
						<!--Les controleurs
						<a class="carousel-control-prev" href="#slidersControl" role="button" data-slide="prev">
							<span class="carousel-control-prev-icon" aria-hidden="true"></span>
						</a>
						<a class="carousel-control-next" href="#slidersControl" role="button" data-slide="next">
							<span class="carousel-control-next-icon" aria-hidden="true"></span>
						</a>-->
						<!--Les controleurs-->
						<!-- Les indicateurs -->
						<ol class="carousel-indicators">
							{% for index,recetteAleatoire in recettesAleatoires %}
							<li data-target="#slidersControl" data-slide-to="{{ index }}" {% if index == 0 %}class="active"
								{% endif %}></li>
							{% endfor %}
						</ol>
						<!-- Les indicateurs -->
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- Blog-detail-content -->



{% endblock %}