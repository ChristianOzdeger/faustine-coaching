{% extends 'base.html.twig' %}

{% block title %}Les S&eacuteances de sports{% endblock %}

{% block body %}
{% set dossierImages =  asset('uploads/photos/sports/') %}

<!-- Fil d'ariane -->
<div class="fil_ariane">
  <div class="fil-container">
    <h2>Les S&eacuteances de sport</h2>
    <p class="text-center">
      <a href="{{ path('accueil') }}">Accueil</a>&nbsp;
      <i class="fa fa-long-arrow-right"></i>&nbsp;
      <span>Les S&eacuteances de sport</span>
    </p>
  </div>
</div>
<!-- Fil d'ariane -->

<div class="serv-page">
  <div class="tab-pane active" id="contenu1">
    <div class="row">
      <div class="col-12 text-center displayOnSmallDevice">
          <div class="dropdown">
          {% set themeSelectionne = "Tous" %}
          {% for theme in themes %}
                
                    {% if app.request.get('theme') == theme.slug %}
                      {% set themeSelectionne = theme.libelle %}
                    {% endif %}

                {% endfor %}
              <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{ themeSelectionne }}</a>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                {% if themeSelectionne != "Tous" %}
                    <a class="dropdown-item" href="{{ path('sport_list') }}">Tous</a>
                {% endif %}
                {% for theme in themes %}
                  <a class="dropdown-item" href="{{ path('sport_list', {theme:theme.slug, }) }}">{{ theme.libelle }}</a>
                {% endfor %}
              </div>
          </div>
      </div>
      <div class="col-12 text-center displayOnOther">
          {% if app.request.get('theme') == 'tout' %}
              <a href="{{ path('sport_list') }}" class="d-inline-block">
                  <h3 class="d-inline"><span class="btn btn-primary text-white mr-3 mb-3 active">Tous</span></h3>
              </a>
          {% else %}
              <a href="{{ path('sport_list') }}" class="d-inline-block">
                  <h3 class="d-inline"><span class="btn btn-primary text-white mr-3 mb-3">Tous</span></h3>
              </a>
          {% endif %}
          {% for theme in themes %}
              {% if app.request.get('theme') == theme.slug %}
                  <a href="{{ path('sport_list', {theme:theme.slug})}}" class="d-inline-block">
                      <h3 class="d-inline"><span class="btn btn-primary text-white mr-3 mb-3 active">{{theme.libelle}}</span></h3>
                  </a>
              {% else %}
                  <a href="{{ path('sport_list', {theme:theme.slug})}}" class="d-inline-block">
                      <h3 class="d-inline"><span class="btn btn-primary text-white mr-3 mb-3 ">{{theme.libelle}}</span></h3>
                  </a>
              {% endif %}
          {% endfor %}
      </div>
    </div>
    <div class="row">
    {% for sport in sports %}
       <div class="col-12 col-md-6 col-lg-4">
        <div class="blg-post">
          <a href="{{ path('sport_read', {slug:sport.slug})}}" ><img class="img-fluid img-thumbnail" src="{{ dossierImages }}{{ sport.photoName }} "></a>
          <h4 class="art-ttl"><a href=""> {{sport.titre}}  </a></h4>
          <p class="art-ind">{{ sport.createdAt|date('d M Y') }}</p>
          <p class="art-ind">
          {% for theme in sport.themes %}
						<span class="badge bg-primary text-white mr-2 mb-2">{{ theme.libelle }}</span>
					{% endfor %}
          </p>
          <p class="article">{{ sport.description|striptags|u.truncate(100, '...' ) }}</p>
          <a href="{{ path('sport_read', {slug:sport.slug})}}"  class="btn blg-btn">Détails</a></i>
        </div>
      </div>
    {% endfor %}
    </div>
    <div class="row">
      <div class="col-12">

    <ul class="pagination justify-content-center">
      <li class="page-item"><a class="page-link" href="{{ path('sport_list', {themes: app.request.get('themes'), page: pagePrecedente } ) }}">Précédent</a></li>
      {% for page in 1.. nombrePages %}
          {% set active = ""%}

        {% if app.request.get('page') == page %}
          {% set active = "active"%}
        {% endif %}

        <li class="page-item {{ active }}"><a class="page-link" href="{{ path('sport_list', {themes: app.request.get('themes'), page: page } ) }}">{{ page }}</a></li>

      {% endfor %}
      <li class="page-item"><a class="page-link" href="{{ path('sport_list', {themes: app.request.get('themes'), page: pageSuivante } ) }}">Suivant</a></li>
    </ul>
    </div>
  </div>

</div>
</div>

{% endblock %}
